<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Datas - F1 Drivers</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="css/dates-style.css">
    <style>
        body {
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #e10600;
            margin-bottom: 30px;
        }
        .driver-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }
        .test-info {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Teste de Exibição de Datas</h1>
        
        <div class="test-info">
            <p><strong>Objetivo:</strong> Verificar se as datas de nascimento e morte estão sendo exibidas corretamente nos cards dos pilotos.</p>
            <p><strong>Esperado:</strong> A data de nascimento deve aparecer ao lado do ícone de volante, e a data de morte (se aplicável) ao lado do ícone de cruz.</p>
        </div>
        
        <div class="driver-cards" id="driver-cards">
            <!-- Os cards serão inseridos aqui pelo JavaScript -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const cardsContainer = document.getElementById('driver-cards');
            
            try {
                // Carregar dados de teste
                const response = await fetch('data/test_driver.json');
                const drivers = await response.json();
                
                // Criar cards para cada piloto
                drivers.forEach(driver => {
                    const card = createDriverCard(driver);
                    cardsContainer.appendChild(card);
                });
                
                console.log('Cards criados com sucesso!');
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
                cardsContainer.innerHTML = '<p>Erro ao carregar dados dos pilotos.</p>';
            }
        });
        
        function createDriverCard(driver) {
            const card = document.createElement('div');
            card.className = 'driver-card';
            
            // Criar a estrutura do card
            card.innerHTML = `
                <div class="driver-image">
                    <img src="images/${driver.Name}.jpg" alt="${driver.Name}" onerror="this.src='images/f1-logo.svg'">
                </div>
                <div class="driver-info">
                    <div class="name-container">
                        <h2 class="driver-name">${driver.Name}</h2>
                        <div class="championship-icons">
                            ${createChampionshipIcons(driver.Championships)}
                        </div>
                    </div>
                    <div class="nationality">
                        <img src="https://flagsapi.com/${driver.Nationality}/flat/64.png" alt="${driver.Nationality}" class="flag">
                        <span class="country-name">${getCountryName(driver.Nationality)}</span>
                    </div>
                    <div class="dates-info">
                        <div class="birth-date" style="display: ${driver.BirthDate ? 'flex' : 'none'}">
                            <img src="images/steering wheel.svg" class="birth-icon" alt="Born">
                            <span class="birth-date-value">${driver.BirthDate || ''}</span>
                        </div>
                        <div class="death-date" style="display: ${driver.DeathDate ? 'flex' : 'none'}">
                            <img src="images/cross.svg" class="death-icon" alt="Died">
                            <span class="death-date-value">${driver.DeathDate || ''}</span>
                        </div>
                    </div>
                    <div class="stat seasons-stat">
                        <span class="label">Seasons:</span>
                        <span class="value seasons-value">${driver.Seasons}</span>
                    </div>
                    <div class="stat">
                        <span class="label">Championships:</span>
                        <span class="value championships-value">${driver.Championships}</span>
                    </div>
                    <div class="stat">
                        <span class="label">Race Entries:</span>
                        <span class="value race-entries-value">${driver.Race entries}</span>
                    </div>
                    <div class="stat">
                        <span class="label">Race Starts:</span>
                        <span class="value race-starts-value">${driver.Race starts}</span>
                    </div>
                    <div class="stat">
                        <span class="label">Wins:</span>
                        <span class="value wins-value">${driver.Wins}</span>
                    </div>
                    <div class="stat">
                        <span class="label">Podiums:</span>
                        <span class="value podiums-value">${driver.Podiums}</span>
                    </div>
                    <div class="stat">
                        <span class="label">Pole Positions:</span>
                        <span class="value pole-positions-value">${driver.Pole positions}</span>
                    </div>
                    <div class="stat">
                        <span class="label">Fastest Laps:</span>
                        <span class="value fastest-laps-value">${driver.Fastest laps}</span>
                    </div>
                </div>
            `;
            
            return card;
        }
        
        function createChampionshipIcons(count) {
            let icons = '';
            for (let i = 0; i < count; i++) {
                icons += '<img src="images/laurel wreath.svg" class="laurel-icon" alt="Championship" title="F1 World Championship">';
            }
            return icons;
        }
        
        function getCountryName(code) {
            const countryMap = {
                'GB': 'United Kingdom',
                'DE': 'Germany',
                'FI': 'Finland',
                'ES': 'Spain',
                'NL': 'Netherlands',
                'FR': 'France',
                'BR': 'Brazil',
                'AU': 'Australia',
                'MC': 'Monaco',
                'CA': 'Canada',
                'MX': 'Mexico',
                'AT': 'Austria',
                'AR': 'Argentina',
                'DK': 'Denmark',
                'JP': 'Japan',
                'CN': 'China',
                'US': 'United States',
                'IT': 'Italy'
            };
            
            return countryMap[code] || code;
        }
    </script>
</body>
</html>
